{"version":3,"file":"zoetrope.js","sources":["../../src/test-support/zoetrope.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { click } from '@ember/test-helpers';\n\nexport class ZoetropeHelper {\n  parentSelector = '.ember-primitives__zoetrope';\n\n  constructor(parentSelector?: string) {\n    if (parentSelector) {\n      this.parentSelector = parentSelector;\n    }\n  }\n\n  async scrollLeft() {\n    await click(`${this.parentSelector} .ember-primitives__zoetrope__controls button:first-child`);\n  }\n\n  async scrollRight() {\n    await click(`${this.parentSelector} .ember-primitives__zoetrope__controls button:last-child`);\n  }\n\n  visibleItems() {\n    const zoetropeContent = document.querySelectorAll(\n      `${this.parentSelector} .ember-primitives__zoetrope__scroller > *`\n    );\n\n    let firstVisibleItemIndex = -1;\n    let lastVisibleItemIndex = -1;\n\n    for (let i = 0; i < zoetropeContent.length; i++) {\n      const item = zoetropeContent[i]!;\n      const rect = item.getBoundingClientRect();\n      const parentRect = item.parentElement!.getBoundingClientRect();\n\n      if (rect.right >= parentRect?.left && rect.left <= parentRect?.right) {\n        if (firstVisibleItemIndex === -1) {\n          firstVisibleItemIndex = i;\n        }\n\n        lastVisibleItemIndex = i;\n      } else if (firstVisibleItemIndex !== -1) {\n        break;\n      }\n    }\n\n    return Array.from(zoetropeContent).slice(firstVisibleItemIndex, lastVisibleItemIndex + 1);\n  }\n\n  visibleItemCount() {\n    return this.visibleItems().length;\n  }\n}\n"],"names":["ZoetropeHelper","parentSelector","constructor","scrollLeft","click","scrollRight","visibleItems","zoetropeContent","document","querySelectorAll","firstVisibleItemIndex","lastVisibleItemIndex","i","length","item","rect","getBoundingClientRect","parentRect","parentElement","right","left","Array","from","slice","visibleItemCount"],"mappings":";;AAAA;AAGO,MAAMA,cAAc,CAAC;AAC1BC,EAAAA,cAAc,GAAG,6BAA6B;EAE9CC,WAAWA,CAACD,cAAuB,EAAE;AACnC,IAAA,IAAIA,cAAc,EAAE;MAClB,IAAI,CAACA,cAAc,GAAGA,cAAc;AACtC;AACF;EAEA,MAAME,UAAUA,GAAG;AACjB,IAAA,MAAMC,KAAK,CAAC,CAAA,EAAG,IAAI,CAACH,cAAc,2DAA2D,CAAC;AAChG;EAEA,MAAMI,WAAWA,GAAG;AAClB,IAAA,MAAMD,KAAK,CAAC,CAAA,EAAG,IAAI,CAACH,cAAc,0DAA0D,CAAC;AAC/F;AAEAK,EAAAA,YAAYA,GAAG;IACb,MAAMC,eAAe,GAAGC,QAAQ,CAACC,gBAAgB,CAC/C,CAAA,EAAG,IAAI,CAACR,cAAc,CAAA,0CAAA,CACxB,CAAC;IAED,IAAIS,qBAAqB,GAAG,CAAC,CAAC;IAC9B,IAAIC,oBAAoB,GAAG,CAAC,CAAC;AAE7B,IAAA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,eAAe,CAACM,MAAM,EAAED,CAAC,EAAE,EAAE;AAC/C,MAAA,MAAME,IAAI,GAAGP,eAAe,CAACK,CAAC,CAAE;AAChC,MAAA,MAAMG,IAAI,GAAGD,IAAI,CAACE,qBAAqB,EAAE;MACzC,MAAMC,UAAU,GAAGH,IAAI,CAACI,aAAa,CAAEF,qBAAqB,EAAE;AAE9D,MAAA,IAAID,IAAI,CAACI,KAAK,IAAIF,UAAU,EAAEG,IAAI,IAAIL,IAAI,CAACK,IAAI,IAAIH,UAAU,EAAEE,KAAK,EAAE;AACpE,QAAA,IAAIT,qBAAqB,KAAK,CAAC,CAAC,EAAE;AAChCA,UAAAA,qBAAqB,GAAGE,CAAC;AAC3B;AAEAD,QAAAA,oBAAoB,GAAGC,CAAC;AAC1B,OAAC,MAAM,IAAIF,qBAAqB,KAAK,CAAC,CAAC,EAAE;AACvC,QAAA;AACF;AACF;AAEA,IAAA,OAAOW,KAAK,CAACC,IAAI,CAACf,eAAe,CAAC,CAACgB,KAAK,CAACb,qBAAqB,EAAEC,oBAAoB,GAAG,CAAC,CAAC;AAC3F;AAEAa,EAAAA,gBAAgBA,GAAG;AACjB,IAAA,OAAO,IAAI,CAAClB,YAAY,EAAE,CAACO,MAAM;AACnC;AACF;;;;"}